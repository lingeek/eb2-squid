#Managed by Puppet
# Recommended minimum configuration:
#

#General rules
icp_port <%= @icp_port %>
snmp_port <%= @snmp_port %>
cache_mgr <%= @cache_mgr %>
cachemgr_passwd  <%= @cachemgr_passwd %>
forwarded_for  <%= @forwarded_for %>
half_closed_clients  <%= @half_closed_clients %>
balance_on_multiple_ip   <%= @balance_on_multiple_ip %>
cache_mem   <%= @cache_mem %>
persistent_connection_after_error  <%= @persistent_connection_after_error %>
maximum_object_size  <%= @maximum_object_size %>
extension_methods  <%= @extension_methods %>
ignore_expect_100 <%= @ignore_expect_100 %>
max_filedescriptors  <%= @max_filedescriptors %>
request_header_max_size  <%= @request_header_max_size %>
reply_header_max_size  <%= @reply_header_max_size %>
#I need Internet and with this I don't have internet
#forward_max_tries  <%= @forward_max_tries %>
cache_access_log  <%= @cache_access_log %>
cache_log  <%= @cache_log %>
cache_store_log   <%= @cache_store_log %>
cache_dir   <%= @cache_dir %>
#error_directory <%= @error_directory %>
read_timeout   <%= @read_timeout %>
connect_timeout  <%= @connect_timeout %>
peer_connect_timeout   <%= @peer_connect_timeout %>
request_timeout   <%= @request_timeout %>
dns_timeout  <%= @dns_timeout %>
dead_peer_timeout  <%= @dead_peer_timeout %>
pconn_timeout   <%= @pconn_timeout %>
negative_ttl  <%= @negative_ttl %>
positive_dns_ttl  <%= @positive_dns_ttl %>
negative_dns_ttl  <%= @negative_dns_ttl %>
shutdown_lifetime  <%= @shutdown_lifetime %>
tcp_outgoing_address  <%= @tcp_outgoing_address %>
snmp_incoming_address  <%= @snmp_incoming_address %>
http_port  <%= @http_port %>


include <%= scope.lookupvar("eb2_squid::config::acl_dir") %>*.conf

#cache_dir aufs /var/cache/squid 100 16 256

coredump_dir /var/cache/squid

include <%= scope.lookupvar("eb2_squid::config::acl_dir") %>*.conf
